import{a0 as u,g as s,G as n}from"./index-Cb7gdW67.js";const f=u("register",()=>{const o=s([]),t=s([]),a=s(!1);async function l(r=!1){if(!(a.value&&!r))try{await n.get("api/register-options").then(e=>{console.log("Response:",e.data),o.value=e.data.departments,t.value=e.data.rolls,a.value=!0}).catch(e=>{console.error(e)})}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}}async function i(r){try{const e=await n.post("api/departments",r);return e.data&&console.log("Dữ liệu trả về: "+JSON.stringify(e.data.id,null,2)),e.data.id}catch(e){console.error("Error adding department:",e)}}async function c(r){try{const e=await n.post("api/rolls",r);t.value.push(e.data)}catch(e){console.error("Error adding roll:",e)}}function d(){o.value=[],t.value=[],a.value=!1}return{departments:o,rolls:t,isFetched:a,fetchRegisterForm:l,addDepartment:i,addRoll:c,reset:d}});export{f as u};
