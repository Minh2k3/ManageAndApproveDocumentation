import{u as O}from"./use-menu-DW2wxuke.js";import{_ as z,e as J,c as a,a as t,b as l,d as f,r as h,I as U,N as u,x as N,q as p,F as $,T as P,g as r,z as Q,i as W,U as X,k as Z,H as _,m as tt,M as I,o as n,u as E}from"./index-DelqX8ny.js";import{u as st}from"./document-store-D1wkzQcl.js";import{P as et}from"./PDFViewer-DeO5X2qv.js";import{N as ot,r as nt}from"./ProgressDocument-5njSt4zg.js";const lt=J({components:{PDFViewer:et,NestedProgressSteps:ot},setup(){P.extend(nt);const e=r("1"),s=r(!1);O().onSelectedKeys(["approver-documents-edit"]);const c=st(),K=Q().user,B=X(),C=r([]);let i=r([]);const g=r(""),D=r(0),v=r([]),b=[{title:"Bước 1",description:"Mô tả bước 1",status:"approved",subSteps:[{title:"Bước con 1.1",description:"Mô tả bước con 1.1",status:"approved"},{title:"Bước con 1.2",description:"Mô tả bước con 1.2",status:"in_review"}]},{title:"Bước 2",description:"Mô tả bước 2",status:"waiting",subSteps:[{title:"Bước con 2.1",description:"Mô tả bước con 2.1",status:"waiting"},{title:"Bước con 2.2",description:"Mô tả bước con 2.2",status:"waiting"}]},{title:"Bước 3",description:"Mô tả bước 3",status:"waiting",subSteps:[{title:"Bước con 3.1",description:"Mô tả bước con 3.1",status:"waiting"},{title:"Bước con 3.2",description:"Mô tả bước con 3.2",status:"waiting"}]}],j=r([]);W(async()=>{await c.fetchDocuments(K.id),C.value=c.documents;const d=parseInt(B.params.id);B.query.from_me==="1"?i.value=C.value.documents_of_me.find(m=>m.id===d&&m.from_me)||null:i.value=C.value.documents_need_me.find(m=>m.id===d&&!m.from_me)||null,await c.fetchDocumentComments(d),v.value=c.document_comments,console.log(v.value),console.log(i.value),g.value=i.value.file_path,D.value=i.value.process/i.value.step_count*100,await c.fetchStepsByDocumentFlowId(i.value.document_flow_id),j.value=c.current_document_flow_steps});const y=r(""),V="http://localhost:8000",R=d=>d?`${V}/images/avatars/${d}`:null,o=r(!1),w=r(!1),q=async()=>{const d=parseInt(i.value.document_flow_step_id);console.log("Step ID:",d),o.value=!0,w.value=!0;try{await c.approveDocument(d),i.value.status="approved",_.success("Bạn vừa đồng ý phê duyệt"),await c.fetchStepsByDocumentFlowId(i.value.document_flow_id),j.value=c.current_document_flow_steps}catch(k){_.error("Có lỗi xảy ra khi đồng ý phê duyệt văn bản"),console.error("Error approving document:",k)}finally{o.value=!1,w.value=!1}},x=r(!1),A=r(""),Y=async()=>{if(A.value.trim()===""){_.error("Vui lòng nhập lý do từ chối");return}const d={document_version_id:i.value.version_id,reason:A.value},k=parseInt(i.value.document_flow_step_id);console.log("Rejecting document with data:",d),console.log("Step ID:",k),o.value=!0,w.value=!0;try{await c.rejectDocument(k,d),i.value.status="rejected",_.success("Bạn vừa từ chối văn bản với lý do: "+A.value)}catch(m){_.error("Có lỗi xảy ra khi từ chối văn bản"),console.error("Error rejecting document:",m)}finally{x.value=!1,o.value=!1,w.value=!1}},G=async()=>{x.value=!0},L=r(null),S=r("Nhận xét"),H=async()=>{console.log("Comment clicked"),s.value=!s.value,e.value==="1"?(e.value="2",S.value="Văn bản",await tt(),L.value.focus()):(e.value="1",S.value="Nhận xét")};Z(e,d=>{d==="1"?(s.value=!1,S.value="Nhận xét"):(s.value=!0,S.value="Văn bản")});const M=r(!1);return{document:i,pdfUrl:g,process_of_document:D,activeKey:e,commentSection:s,comment:y,document_comments:v,dayjs:P,btnCommentText:S,commentTextarea:L,isDownloading:M,btnApproveDisabled:o,btnRejectDisabled:w,rejectVisible:x,reasonReject:A,document_steps:b,document_flow_steps:j,getAvatarUrl:R,randomAvatar:d=>d>100||d==null?"https://avatar.iran.liara.run/public":`https://avatar.iran.liara.run/public/${d}`,handleClickApprove:q,handleClickReject:G,handleClickComment:H,handleClickDownload:(d,k=null)=>{try{M.value=!0;const m=`http://localhost:8000/documents/${d}`,T=document.createElement("a");T.href=m,T.download=k||d.split("/").pop(),T.style.display="none",document.body.appendChild(T),T.click(),document.body.removeChild(T),_.success("Đang tải file..."),setTimeout(()=>{M.value=!1},2e3)}catch(m){console.error("Error downloading file:",m),_.error("Có lỗi xảy ra khi tải file!"),M.value=!1}},handleSendComment:async()=>{if(y.value===""){_.error("Vui lòng nhập bình luận");return}try{const d=parseInt(B.params.id);await axios.post(`/api/documents/${d}/comments`,{creator_id:i.value.creator_id,comment:y.value,document_flow_step_id:parseInt(i.value.document_flow_step_id)}),_.success("Nhận xét gửi thành công"),await c.fetchDocumentComments(d),v.value=c.document_comments,y.value=""}catch(d){_.error("Có lỗi xảy ra khi gửi nhận xét"),console.error("Error sending comment:",d)}},handleClickNotYourTurn:()=>{I.info({title:"Thông báo",content:l("p",null,"Chưa đến lượt bạn phê duyệt văn bản này."),okText:"Đóng"})},handleRejectDocument:Y,handleClickApproved:()=>{I.info({title:"Thông báo",content:l("p",null,"Bạn đã phê duyệt văn bản này rồi!"),okText:"Đóng"})},handleClickRejected:()=>{I.info({title:"Thông báo",content:l("p",null,"Bạn đã từ chối văn bản này rồi!"),okText:"Đóng"})}}}}),dt={class:"container-fluid"},at={key:0},it={class:"container py-1"},rt={class:"row justify-content-between gap-3"},ct={class:"col-xl-7"},ut={class:"row"},mt={class:"col text-end mb-2 mb-xl-0 align-self-top ps-3 pt-1"},pt=["href"],vt={class:"col"},bt={class:"row mb-3"},ft={class:"d-flex justify-content-center"},ht={class:"fs-5 fw-bold fst-italic"},_t={class:"row mb-3 border-1 border border-dark rounded-3 bg-light py-1"},wt={class:"col align-self-center"},gt={class:"col-10"},yt={class:"row"},kt={class:"fw-bold"},Ct={class:"row"},jt={class:"text-muted"},Tt={class:"row text-end"},Nt={class:"text-muted"},Dt={key:1,class:"row mb-3"},St={class:"col-xl"},Ut={key:0,class:"row border-1 rounded-3 p-4 mb-4 bg-light"},Bt={class:"col"},Vt={class:"row mb-3"},At={class:"col"},Mt={class:"row mb-3"},Rt={class:"col"},xt={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},$t={class:"col"},It={class:"row mt-3"},Kt={class:"col-8"},Lt={class:"row mt-3"},Pt={class:"col-8"},Et={class:"row mt-3"},Ft={class:"col-8"},qt={class:"d-flex"},Yt={class:"row mt-3"},Gt={class:"col-12 mt-1"},Ht={class:"row mt-3"},Ot={class:"col-8"},zt={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},Jt={class:"col"},Qt={class:"row mb-3"},Wt={class:"text-center"},Xt={key:0,class:"fst-italic text-success"},Zt={key:1,class:"fst-italic text-danger"},ts={key:2,class:"fst-italic text-secondary"},ss={key:1},es={class:"container py-1"},os={class:"row justify-content-between gap-3"},ns={class:"col-xl-7"},ls={class:"row"},ds={class:"col text-end mb-2 mb-xl-0 align-self-top ps-3 pt-1"},as=["href"],is={class:"col"},rs={class:"row mb-3"},cs={class:"d-flex justify-content-center"},us={class:"fs-5 fw-bold fst-italic"},ms={class:"row mb-3 border-1 border border-dark rounded-3 bg-light py-1"},ps={class:"col align-self-center"},vs={class:"col-10"},bs={class:"row"},fs={class:"fw-bold"},hs={class:"row"},_s={class:"text-muted"},ws={class:"row text-end"},gs={class:"text-muted"},ys={key:1,class:"row mb-3"},ks={class:"col-xl"},Cs={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},js={class:"col"},Ts={key:0,class:"row mb-3"},Ns={class:"col"},Ds=["disabled"],Ss={class:"col"},Us=["disabled"],Bs={key:1,class:"row mb-3"},Vs={class:"col"},As={key:2,class:"row mb-3"},Ms={class:"col"},Rs={key:3,class:"row mb-3"},xs={class:"col"},$s={class:"row mb-3"},Is={class:"col"},Ks={class:"col"},Ls=["disabled"],Ps={key:0},Es={key:1},Fs={key:0,class:"row border-1 rounded-3 p-4 mb-4 bg-light"},qs={class:"col"},Ys={class:"row mb-3"},Gs={class:"col"},Hs={class:"row mb-3"},Os={class:"col"},zs={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},Js={class:"col"},Qs={class:"row mt-3"},Ws={class:"col-8"},Xs={class:"row mt-3"},Zs={class:"col-8"},te={class:"row mt-3"},se={class:"col-8"},ee={class:"d-flex"},oe={class:"row mt-3"},ne={class:"col-12 mt-1"},le={class:"row mt-3"},de={class:"col-8"},ae={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},ie={class:"col"},re={class:"row mb-3"},ce={class:"text-center"},ue={key:0,class:"fst-italic text-success"},me={key:1,class:"fst-italic text-danger"},pe={key:2,class:"fst-italic text-secondary"};function ve(e,s,c,F,K,B){const C=h("PDFViewer"),i=h("a-tab-pane"),g=h("a-avatar"),D=h("a-tabs"),v=h("a-textarea"),b=h("a-input"),j=h("NestedProgressSteps"),y=h("a-divider"),V=h("a-button"),R=h("a-modal");return n(),a($,null,[t("div",dt,[s[65]||(s[65]=t("h2",{class:"fw-bold mb-3"},"Sửa văn bản",-1)),e.document.from_me?(n(),a("div",at,[t("div",it,[t("div",rt,[t("div",ct,[l(D,{activeKey:e.activeKey,"onUpdate:activeKey":s[0]||(s[0]=o=>e.activeKey=o),type:"card",class:"row border-1 rounded-3 p-4 mb-2 bg-light"},{default:f(()=>[l(i,{key:"1",tab:"Văn bản"},{default:f(()=>[t("div",ut,[t("div",mt,[t("label",null,[t("a",{href:`http://localhost:8000/documents/${e.document.file_path}`,target:"_blank",class:"text-decoration-none fst-italic"}," Mở tệp trong tab mới ",8,pt)])])]),t("div",null,[t("div",vt,[t("div",bt,[t("div",ft,[s[26]||(s[26]=t("span",{class:"fs-5 fw-bold"},"Tên tài liệu:",-1)),s[27]||(s[27]=u("   ")),t("span",ht,p(e.document.title),1)])])]),t("div",null,[l(C,{"pdf-url":e.pdfUrl},null,8,["pdf-url"])])])]),_:1}),l(i,{key:"2",tab:`Nhận xét (${e.document_comments.total_comments})`,"force-render":""},{default:f(()=>[e.document_comments.total_comments>0?(n(!0),a($,{key:0},E(e.document_comments.current_comments,(o,w)=>(n(),a("div",{key:w},[t("div",_t,[t("div",wt,[o.user.avatar?(n(),N(g,{key:0,class:"",src:e.getAvatarUrl(o.user.avatar)},null,8,["src"])):(n(),N(g,{key:1,class:"",src:e.randomAvatar(o.user.id),alt:"Random Avatar"},null,8,["src"]))]),t("div",gt,[t("div",yt,[t("span",kt,p(o.user.name),1)]),t("div",Ct,[t("span",jt,p(o.content),1)]),t("div",Tt,[t("span",Nt,p(o.commented_at),1)])])])]))),128)):(n(),a("div",Dt,s[28]||(s[28]=[t("div",{class:"col d-flex"},[t("span",{class:""},"Chưa có nhận xét nào")],-1)])))]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),t("div",St,[e.commentSection?(n(),a("div",Ut,[t("div",Bt,[s[30]||(s[30]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Nhận xét")])],-1)),t("div",Vt,[t("div",At,[l(v,{placeholder:"Nhập nhận xét của bạn",value:e.comment,"onUpdate:value":s[1]||(s[1]=o=>e.comment=o),"show-count":"",maxlength:1e3,ref:"commentTextarea"},null,8,["value"])])]),t("div",Mt,[t("div",Rt,[t("button",{class:"border border-2 rounded-2 w-100 py-2 bg-secondary text-white button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:s[2]||(s[2]=(...o)=>e.handleSendComment&&e.handleSendComment(...o))},s[29]||(s[29]=[t("span",null,[t("i",{class:"bi bi-chat-square-dots me-2"}),u("Gửi bình luận ")],-1)]))])])])])):U("",!0),t("div",xt,[t("div",$t,[s[38]||(s[38]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Thông tin văn bản")])],-1)),t("div",It,[s[32]||(s[32]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Người tạo:")])],-1)),t("div",Kt,[l(b,{value:e.document.creator_name,"onUpdate:value":s[3]||(s[3]=o=>e.document.creator_name=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),s[31]||(s[31]=t("div",{class:"w-100"},null,-1))])]),t("div",Lt,[s[34]||(s[34]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Tên văn bản:")])],-1)),t("div",Pt,[l(b,{value:e.document.title,"onUpdate:value":s[4]||(s[4]=o=>e.document.title=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),s[33]||(s[33]=t("div",{class:"w-100"},null,-1))])]),t("div",Et,[s[35]||(s[35]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Loại văn bản:")])],-1)),t("div",Ft,[t("div",qt,[l(b,{value:e.document.type,"onUpdate:value":s[5]||(s[5]=o=>e.document.type=o),placeholder:"Love",disabled:""},null,8,["value"])])])]),t("div",Yt,[s[36]||(s[36]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Mô tả:")])],-1)),t("div",Gt,[l(v,{placeholder:"Mô tả đơn giản",value:e.document.description,"onUpdate:value":s[6]||(s[6]=o=>e.document.description=o),"show-count":"",maxlength:1e3,disabled:""},null,8,["value"])])]),t("div",Ht,[s[37]||(s[37]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Ngày tạo:")])],-1)),t("div",Ot,[l(b,{value:e.document.created_at,"onUpdate:value":s[7]||(s[7]=o=>e.document.created_at=o),placeholder:"Ngày chờ, tháng nhớ, năm mong",disabled:""},null,8,["value"])])])])]),t("div",zt,[t("div",Jt,[t("div",Qt,[t("div",Wt,[s[39]||(s[39]=t("span",{class:"fs-5 fw-bold"},"Luồng phê duyệt",-1)),s[40]||(s[40]=t("br",null,null,-1)),e.document.status==="approved"?(n(),a("span",Xt,"Đã được duyệt")):e.document.status==="rejected"?(n(),a("span",Zt,"Bị từ chối")):(n(),a("span",ts,"Tiến độ: "+p(e.document_flow_steps.progress_percentage)+"%",1))]),e.document_flow_steps&&Object.keys(e.document_flow_steps).length>0?(n(),N(j,{key:0,steps:e.document_flow_steps},null,8,["steps"])):U("",!0)])])])])])])])):(n(),a("div",ss,[t("div",es,[t("div",os,[t("div",ns,[l(D,{activeKey:e.activeKey,"onUpdate:activeKey":s[8]||(s[8]=o=>e.activeKey=o),type:"card",class:"row border-1 rounded-3 p-4 mb-2 bg-light"},{default:f(()=>[l(i,{key:"1",tab:"Văn bản"},{default:f(()=>[t("div",ls,[t("div",ds,[t("label",null,[t("a",{href:`http://localhost:8000/documents/${e.document.file_path}`,target:"_blank",class:"text-decoration-none fst-italic"}," Mở tệp trong tab mới ",8,as)])])]),t("div",null,[t("div",is,[t("div",rs,[t("div",cs,[s[41]||(s[41]=t("span",{class:"fs-5 fw-bold"},"Tên tài liệu:",-1)),s[42]||(s[42]=u("   ")),t("span",us,p(e.document.title),1)])])]),t("div",null,[l(C,{"pdf-url":e.pdfUrl},null,8,["pdf-url"])])])]),_:1}),l(i,{key:"2",tab:`Nhận xét (${e.document_comments.total_comments})`,"force-render":""},{default:f(()=>[e.document_comments.total_comments>0?(n(!0),a($,{key:0},E(e.document_comments.current_comments,(o,w)=>(n(),a("div",{key:w},[t("div",ms,[t("div",ps,[o.user.avatar?(n(),N(g,{key:0,class:"",src:e.getAvatarUrl(o.user.avatar)},null,8,["src"])):(n(),N(g,{key:1,class:"",src:e.randomAvatar(o.user.id),alt:"Random Avatar"},null,8,["src"]))]),t("div",vs,[t("div",bs,[t("span",fs,p(o.user.name),1)]),t("div",hs,[t("span",_s,p(o.content),1)]),t("div",ws,[t("span",gs,p(o.commented_at),1)])])])]))),128)):(n(),a("div",ys,s[43]||(s[43]=[t("div",{class:"col d-flex"},[t("span",{class:""},"Chưa có nhận xét nào")],-1)])))]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),t("div",ks,[t("div",Cs,[t("div",js,[s[52]||(s[52]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Phê duyệt văn bản")])],-1)),e.document.step_status==="in_review"?(n(),a("div",Ts,[t("div",Ns,[t("button",{class:"border border-2 rounded-2 text-white bg-success w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:s[9]||(s[9]=(...o)=>e.handleClickApprove&&e.handleClickApprove(...o)),disabled:e.btnApproveDisabled},s[44]||(s[44]=[t("span",null,[t("i",{class:"bi bi-check-lg me-1"}),u("Chấp thuận ")],-1)]),8,Ds)]),t("div",Ss,[t("button",{class:"border border-2 rounded-2 text-white bg-danger w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:s[10]||(s[10]=(...o)=>e.handleClickReject&&e.handleClickReject(...o)),disabled:e.btnRejectDisabled},s[45]||(s[45]=[t("span",null,[t("i",{class:"bi bi-x-lg me-2"}),u("Từ chối ")],-1)]),8,Us)])])):e.document.step_status==="pending"?(n(),a("div",Bs,[t("div",Vs,[t("button",{class:"border border-2 rounded-2 text-white bg-warning w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":"1"},onClick:s[11]||(s[11]=(...o)=>e.handleClickNotYourTurn&&e.handleClickNotYourTurn(...o))},s[46]||(s[46]=[t("span",null,[t("i",{class:"bi bi-hourglass-split me-2"}),u("Chưa đến lượt bạn đâu ")],-1)]))])])):e.document.step_status==="approved"?(n(),a("div",As,[t("div",Ms,[t("button",{class:"border border-2 rounded-2 text-white bg-success w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":"1"},onClick:s[12]||(s[12]=(...o)=>e.handleClickApproved&&e.handleClickApproved(...o))},s[47]||(s[47]=[t("span",null," Bạn đã đồng ý văn bản này rồi! ",-1)]))])])):e.document.step_status==="rejected"?(n(),a("div",Rs,[t("div",xs,[t("button",{class:"border border-2 rounded-2 text-white bg-danger w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":"1"},onClick:s[13]||(s[13]=(...o)=>e.handleClickRejected&&e.handleClickRejected(...o))},s[48]||(s[48]=[t("span",null," Bạn đã từ chối văn bản này rồi! ",-1)]))])])):U("",!0),t("div",$s,[t("div",Is,[t("button",{class:"border border-2 rounded-2 w-100 py-2 bg-secondary text-white button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:s[14]||(s[14]=(...o)=>e.handleClickComment&&e.handleClickComment(...o))},[t("span",null,[s[49]||(s[49]=t("i",{class:"bi bi-chat-square-dots me-2"},null,-1)),u(p(e.btnCommentText),1)])])]),t("div",Ks,[t("button",{class:"border border-2 rounded-2 w-100 py-2 text-white bg-primary button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:s[15]||(s[15]=o=>e.handleClickDownload(e.document.file_path,e.document.title)),disabled:e.isDownloading},[e.isDownloading?(n(),a("span",Es,s[51]||(s[51]=[t("i",{class:"bi bi-hourglass-split me-2"},null,-1),u("Đang tải... ")]))):(n(),a("span",Ps,s[50]||(s[50]=[t("i",{class:"bi bi-download me-2"},null,-1),u("Tải xuống ")])))],8,Ls)])])])]),e.commentSection?(n(),a("div",Fs,[t("div",qs,[s[54]||(s[54]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Nhận xét")])],-1)),t("div",Ys,[t("div",Gs,[l(v,{placeholder:"Nhập nhận xét của bạn",value:e.comment,"onUpdate:value":s[16]||(s[16]=o=>e.comment=o),"show-count":"",maxlength:1e3,ref:"commentTextarea"},null,8,["value"])])]),t("div",Hs,[t("div",Os,[t("button",{class:"border border-2 rounded-2 w-100 py-2 bg-secondary text-white button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:s[17]||(s[17]=(...o)=>e.handleSendComment&&e.handleSendComment(...o))},s[53]||(s[53]=[t("span",null,[t("i",{class:"bi bi-chat-square-dots me-2"}),u("Gửi bình luận ")],-1)]))])])])])):U("",!0),t("div",zs,[t("div",Js,[s[62]||(s[62]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Thông tin văn bản")])],-1)),t("div",Qs,[s[56]||(s[56]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Người tạo:")])],-1)),t("div",Ws,[l(b,{value:e.document.creator_name,"onUpdate:value":s[18]||(s[18]=o=>e.document.creator_name=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),s[55]||(s[55]=t("div",{class:"w-100"},null,-1))])]),t("div",Xs,[s[58]||(s[58]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Tên văn bản:")])],-1)),t("div",Zs,[l(b,{value:e.document.title,"onUpdate:value":s[19]||(s[19]=o=>e.document.title=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),s[57]||(s[57]=t("div",{class:"w-100"},null,-1))])]),t("div",te,[s[59]||(s[59]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Loại văn bản:")])],-1)),t("div",se,[t("div",ee,[l(b,{value:e.document.type,"onUpdate:value":s[20]||(s[20]=o=>e.document.type=o),placeholder:"Love",disabled:""},null,8,["value"])])])]),t("div",oe,[s[60]||(s[60]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Mô tả:")])],-1)),t("div",ne,[l(v,{placeholder:"Mô tả đơn giản",value:e.document.description,"onUpdate:value":s[21]||(s[21]=o=>e.document.description=o),"show-count":"",maxlength:1e3,disabled:""},null,8,["value"])])]),t("div",le,[s[61]||(s[61]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Ngày tạo:")])],-1)),t("div",de,[l(b,{value:e.document.created_at,"onUpdate:value":s[22]||(s[22]=o=>e.document.created_at=o),placeholder:"Ngày chờ, tháng nhớ, năm mong",disabled:""},null,8,["value"])])])])]),t("div",ae,[t("div",ie,[t("div",re,[t("div",ce,[s[63]||(s[63]=t("span",{class:"fs-5 fw-bold"},"Luồng phê duyệt",-1)),s[64]||(s[64]=t("br",null,null,-1)),e.document.document_status==="approved"?(n(),a("span",ue,"Đã được duyệt")):e.document.document_status==="rejected"?(n(),a("span",me,"Bị từ chối")):(n(),a("span",pe,"Tiến độ: "+p(e.document_flow_steps.progress_percentage)+"%",1))]),e.document_flow_steps&&Object.keys(e.document_flow_steps).length>0?(n(),N(j,{key:0,steps:e.document_flow_steps},null,8,["steps"])):U("",!0)])])])])])])]))]),l(R,{visible:e.rejectVisible,"onUpdate:visible":s[25]||(s[25]=o=>e.rejectVisible=o),width:"600px"},{footer:f(()=>[l(V,{onClick:s[24]||(s[24]=o=>e.rejectVisible=!1)},{default:f(()=>s[68]||(s[68]=[u("Hủy")])),_:1}),l(V,{type:"primary",onClick:e.handleRejectDocument},{default:f(()=>s[69]||(s[69]=[u("Từ chối")])),_:1},8,["onClick"])]),default:f(()=>[t("div",null,[s[67]||(s[67]=t("h5",null,"❌ Từ chối văn bản",-1)),l(y),t("div",null,[s[66]||(s[66]=t("span",null,"Lý do chia tay là gì, em có biết không???",-1)),l(v,{value:e.reasonReject,"onUpdate:value":s[23]||(s[23]=o=>e.reasonReject=o),placeholder:"Vì em không yêu anh như anh yêu em, vì em xem anh chỉ là nhất thời.","show-count":"",maxlength:1e3,rows:"4",class:"mb-5"},null,8,["value"])]),l(y)])]),_:1},8,["visible"])],64)}const Ne=z(lt,[["render",ve],["__scopeId","data-v-96172c45"]]);export{Ne as default};
