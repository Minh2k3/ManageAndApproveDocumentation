import{u as O}from"./use-menu-Dt9qxgnu.js";import{_ as z,e as J,c as a,a as t,b as l,d as f,r as h,I as B,N as u,x as U,q as p,F as x,T as P,g as r,z as Q,i as W,U as X,k as Z,H as _,m as tt,M as I,o as n,u as E}from"./index-ixtV8ZqQ.js";import{u as et}from"./document-store-Wx-UY-nM.js";import{P as st}from"./PDFViewer-Bn6Fp0NR.js";import{N as ot,r as nt}from"./ProgressDocument-CRfNL-f7.js";const lt=J({components:{PDFViewer:st,NestedProgressSteps:ot},setup(){P.extend(nt);const s=r("1"),e=r(!1);O().onSelectedKeys(["approver-documents-edit"]);const c=et(),K=Q().user,V=X(),C=r([]);let i=r([]);const g=r(""),D=r(0),v=r([]),b=[{title:"Bước 1",description:"Mô tả bước 1",status:"approved",subSteps:[{title:"Bước con 1.1",description:"Mô tả bước con 1.1",status:"approved"},{title:"Bước con 1.2",description:"Mô tả bước con 1.2",status:"in_review"}]},{title:"Bước 2",description:"Mô tả bước 2",status:"waiting",subSteps:[{title:"Bước con 2.1",description:"Mô tả bước con 2.1",status:"waiting"},{title:"Bước con 2.2",description:"Mô tả bước con 2.2",status:"waiting"}]},{title:"Bước 3",description:"Mô tả bước 3",status:"waiting",subSteps:[{title:"Bước con 3.1",description:"Mô tả bước con 3.1",status:"waiting"},{title:"Bước con 3.2",description:"Mô tả bước con 3.2",status:"waiting"}]}],j=r([]);W(async()=>{await c.fetchDocuments(K.id),C.value=c.documents;const d=parseInt(V.params.id);V.query.from_me==="1"?i.value=C.value.documents_of_me.find(m=>m.id===d&&m.from_me)||null:i.value=C.value.documents_need_me.find(m=>m.id===d&&!m.from_me)||null,await c.fetchDocumentComments(d),v.value=c.document_comments,console.log(v.value),console.log(i.value),g.value=i.value.file_path,D.value=i.value.process/i.value.step_count*100,await c.fetchStepsByDocumentFlowId(i.value.document_flow_id),j.value=c.current_document_flow_steps});const y=r(""),T="https://tminh.id.vn",R=d=>d?`${T}/images/avatars/${d}`:null,o=r(!1),w=r(!1),q=async()=>{const d=parseInt(i.value.document_flow_step_id);console.log("Step ID:",d),o.value=!0,w.value=!0;try{await c.approveDocument(d),i.value.status="approved",_.success("Bạn vừa đồng ý phê duyệt"),await c.fetchStepsByDocumentFlowId(i.value.document_flow_id),j.value=c.current_document_flow_steps}catch(k){_.error("Có lỗi xảy ra khi đồng ý phê duyệt văn bản"),console.error("Error approving document:",k)}finally{o.value=!1,w.value=!1}},$=r(!1),A=r(""),Y=async()=>{if(A.value.trim()===""){_.error("Vui lòng nhập lý do từ chối");return}const d={document_version_id:i.value.version_id,reason:A.value},k=parseInt(i.value.document_flow_step_id);console.log("Rejecting document with data:",d),console.log("Step ID:",k),o.value=!0,w.value=!0;try{await c.rejectDocument(k,d),i.value.status="rejected",_.success("Bạn vừa từ chối văn bản với lý do: "+A.value)}catch(m){_.error("Có lỗi xảy ra khi từ chối văn bản"),console.error("Error rejecting document:",m)}finally{$.value=!1,o.value=!1,w.value=!1}},G=async()=>{$.value=!0},L=r(null),S=r("Nhận xét"),H=async()=>{console.log("Comment clicked"),e.value=!e.value,s.value==="1"?(s.value="2",S.value="Văn bản",await tt(),L.value.focus()):(s.value="1",S.value="Nhận xét")};Z(s,d=>{d==="1"?(e.value=!1,S.value="Nhận xét"):(e.value=!0,S.value="Văn bản")});const M=r(!1);return{apiUrl:T,document:i,pdfUrl:g,process_of_document:D,activeKey:s,commentSection:e,comment:y,document_comments:v,dayjs:P,btnCommentText:S,commentTextarea:L,isDownloading:M,btnApproveDisabled:o,btnRejectDisabled:w,rejectVisible:$,reasonReject:A,document_steps:b,document_flow_steps:j,getAvatarUrl:R,randomAvatar:d=>d>100||d==null?"https://avatar.iran.liara.run/public":`https://avatar.iran.liara.run/public/${d}`,handleClickApprove:q,handleClickReject:G,handleClickComment:H,handleClickDownload:(d,k=null)=>{try{M.value=!0;const m=`${T}/documents/${d}`,N=document.createElement("a");N.href=m,N.download=k||d.split("/").pop(),N.style.display="none",document.body.appendChild(N),N.click(),document.body.removeChild(N),_.success("Đang tải file..."),setTimeout(()=>{M.value=!1},2e3)}catch(m){console.error("Error downloading file:",m),_.error("Có lỗi xảy ra khi tải file!"),M.value=!1}},handleSendComment:async()=>{if(y.value===""){_.error("Vui lòng nhập bình luận");return}try{const d=parseInt(V.params.id);await axios.post(`/api/documents/${d}/comments`,{creator_id:i.value.creator_id,comment:y.value,document_flow_step_id:parseInt(i.value.document_flow_step_id)}),_.success("Nhận xét gửi thành công"),await c.fetchDocumentComments(d),v.value=c.document_comments,y.value=""}catch(d){_.error("Có lỗi xảy ra khi gửi nhận xét"),console.error("Error sending comment:",d)}},handleClickNotYourTurn:()=>{I.info({title:"Thông báo",content:l("p",null,"Chưa đến lượt bạn phê duyệt văn bản này."),okText:"Đóng"})},handleRejectDocument:Y,handleClickApproved:()=>{I.info({title:"Thông báo",content:l("p",null,"Bạn đã phê duyệt văn bản này rồi!"),okText:"Đóng"})},handleClickRejected:()=>{I.info({title:"Thông báo",content:l("p",null,"Bạn đã từ chối văn bản này rồi!"),okText:"Đóng"})}}}}),dt={class:"container-fluid"},at={key:0},it={class:"container py-1"},rt={class:"row justify-content-between gap-3"},ct={class:"col-xl-7"},ut={class:"row"},mt={class:"col text-end mb-2 mb-xl-0 align-self-top ps-3 pt-1"},pt=["href"],vt={class:"col"},bt={class:"row mb-3"},ft={class:"d-flex justify-content-center"},ht={class:"fs-5 fw-bold fst-italic"},_t={class:"row mb-3 border-1 border border-dark rounded-3 bg-light py-1"},wt={class:"col align-self-center"},gt={class:"col-10"},yt={class:"row"},kt={class:"fw-bold"},Ct={class:"row"},jt={class:"text-muted"},Tt={class:"row text-end"},Nt={class:"text-muted"},Ut={key:1,class:"row mb-3"},Dt={class:"col-xl"},St={key:0,class:"row border-1 rounded-3 p-4 mb-4 bg-light"},Bt={class:"col"},Vt={class:"row mb-3"},At={class:"col"},Mt={class:"row mb-3"},Rt={class:"col"},$t={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},xt={class:"col"},It={class:"row mt-3"},Kt={class:"col-8"},Lt={class:"row mt-3"},Pt={class:"col-8"},Et={class:"row mt-3"},Ft={class:"col-8"},qt={class:"d-flex"},Yt={class:"row mt-3"},Gt={class:"col-12 mt-1"},Ht={class:"row mt-3"},Ot={class:"col-8"},zt={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},Jt={class:"col"},Qt={class:"row mb-3"},Wt={class:"text-center"},Xt={key:0,class:"fst-italic text-success"},Zt={key:1,class:"fst-italic text-danger"},te={key:2,class:"fst-italic text-secondary"},ee={key:1},se={class:"container py-1"},oe={class:"row justify-content-between gap-3"},ne={class:"col-xl-7"},le={class:"row"},de={class:"col text-end mb-2 mb-xl-0 align-self-top ps-3 pt-1"},ae=["href"],ie={class:"col"},re={class:"row mb-3"},ce={class:"d-flex justify-content-center"},ue={class:"fs-5 fw-bold fst-italic"},me={class:"row mb-3 border-1 border border-dark rounded-3 bg-light py-1"},pe={class:"col align-self-center"},ve={class:"col-10"},be={class:"row"},fe={class:"fw-bold"},he={class:"row"},_e={class:"text-muted"},we={class:"row text-end"},ge={class:"text-muted"},ye={key:1,class:"row mb-3"},ke={class:"col-xl"},Ce={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},je={class:"col"},Te={key:0,class:"row mb-3"},Ne={class:"col"},Ue=["disabled"],De={class:"col"},Se=["disabled"],Be={key:1,class:"row mb-3"},Ve={class:"col"},Ae={key:2,class:"row mb-3"},Me={class:"col"},Re={key:3,class:"row mb-3"},$e={class:"col"},xe={class:"row mb-3"},Ie={class:"col"},Ke={class:"col"},Le=["disabled"],Pe={key:0},Ee={key:1},Fe={key:0,class:"row border-1 rounded-3 p-4 mb-4 bg-light"},qe={class:"col"},Ye={class:"row mb-3"},Ge={class:"col"},He={class:"row mb-3"},Oe={class:"col"},ze={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},Je={class:"col"},Qe={class:"row mt-3"},We={class:"col-8"},Xe={class:"row mt-3"},Ze={class:"col-8"},ts={class:"row mt-3"},es={class:"col-8"},ss={class:"d-flex"},os={class:"row mt-3"},ns={class:"col-12 mt-1"},ls={class:"row mt-3"},ds={class:"col-8"},as={class:"row border-1 rounded-3 p-4 mb-4 bg-light"},is={class:"col"},rs={class:"row mb-3"},cs={class:"text-center"},us={key:0,class:"fst-italic text-success"},ms={key:1,class:"fst-italic text-danger"},ps={key:2,class:"fst-italic text-secondary"};function vs(s,e,c,F,K,V){const C=h("PDFViewer"),i=h("a-tab-pane"),g=h("a-avatar"),D=h("a-tabs"),v=h("a-textarea"),b=h("a-input"),j=h("NestedProgressSteps"),y=h("a-divider"),T=h("a-button"),R=h("a-modal");return n(),a(x,null,[t("div",dt,[e[65]||(e[65]=t("h2",{class:"fw-bold mb-3"},"Sửa văn bản",-1)),s.document.from_me?(n(),a("div",at,[t("div",it,[t("div",rt,[t("div",ct,[l(D,{activeKey:s.activeKey,"onUpdate:activeKey":e[0]||(e[0]=o=>s.activeKey=o),type:"card",class:"row border-1 rounded-3 p-4 mb-2 bg-light"},{default:f(()=>[l(i,{key:"1",tab:"Văn bản"},{default:f(()=>[t("div",ut,[t("div",mt,[t("label",null,[t("a",{href:`${s.apiUrl}/documents/${s.document.file_path}`,target:"_blank",class:"text-decoration-none fst-italic"}," Mở tệp trong tab mới ",8,pt)])])]),t("div",null,[t("div",vt,[t("div",bt,[t("div",ft,[e[26]||(e[26]=t("span",{class:"fs-5 fw-bold"},"Tên tài liệu:",-1)),e[27]||(e[27]=u("   ")),t("span",ht,p(s.document.title),1)])])]),t("div",null,[l(C,{"pdf-url":s.pdfUrl},null,8,["pdf-url"])])])]),_:1}),l(i,{key:"2",tab:`Nhận xét (${s.document_comments.total_comments})`,"force-render":""},{default:f(()=>[s.document_comments.total_comments>0?(n(!0),a(x,{key:0},E(s.document_comments.current_comments,(o,w)=>(n(),a("div",{key:w},[t("div",_t,[t("div",wt,[o.user.avatar?(n(),U(g,{key:0,class:"",src:s.getAvatarUrl(o.user.avatar)},null,8,["src"])):(n(),U(g,{key:1,class:"",src:s.randomAvatar(o.user.id),alt:"Random Avatar"},null,8,["src"]))]),t("div",gt,[t("div",yt,[t("span",kt,p(o.user.name),1)]),t("div",Ct,[t("span",jt,p(o.content),1)]),t("div",Tt,[t("span",Nt,p(o.commented_at),1)])])])]))),128)):(n(),a("div",Ut,e[28]||(e[28]=[t("div",{class:"col d-flex"},[t("span",{class:""},"Chưa có nhận xét nào")],-1)])))]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),t("div",Dt,[s.commentSection?(n(),a("div",St,[t("div",Bt,[e[30]||(e[30]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Nhận xét")])],-1)),t("div",Vt,[t("div",At,[l(v,{placeholder:"Nhập nhận xét của bạn",value:s.comment,"onUpdate:value":e[1]||(e[1]=o=>s.comment=o),"show-count":"",maxlength:1e3,ref:"commentTextarea"},null,8,["value"])])]),t("div",Mt,[t("div",Rt,[t("button",{class:"border border-2 rounded-2 w-100 py-2 bg-secondary text-white button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:e[2]||(e[2]=(...o)=>s.handleSendComment&&s.handleSendComment(...o))},e[29]||(e[29]=[t("span",null,[t("i",{class:"bi bi-chat-square-dots me-2"}),u("Gửi bình luận ")],-1)]))])])])])):B("",!0),t("div",$t,[t("div",xt,[e[38]||(e[38]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Thông tin văn bản")])],-1)),t("div",It,[e[32]||(e[32]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Người tạo:")])],-1)),t("div",Kt,[l(b,{value:s.document.creator_name,"onUpdate:value":e[3]||(e[3]=o=>s.document.creator_name=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),e[31]||(e[31]=t("div",{class:"w-100"},null,-1))])]),t("div",Lt,[e[34]||(e[34]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Tên văn bản:")])],-1)),t("div",Pt,[l(b,{value:s.document.title,"onUpdate:value":e[4]||(e[4]=o=>s.document.title=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),e[33]||(e[33]=t("div",{class:"w-100"},null,-1))])]),t("div",Et,[e[35]||(e[35]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Loại văn bản:")])],-1)),t("div",Ft,[t("div",qt,[l(b,{value:s.document.type,"onUpdate:value":e[5]||(e[5]=o=>s.document.type=o),placeholder:"Love",disabled:""},null,8,["value"])])])]),t("div",Yt,[e[36]||(e[36]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Mô tả:")])],-1)),t("div",Gt,[l(v,{placeholder:"Mô tả đơn giản",value:s.document.description,"onUpdate:value":e[6]||(e[6]=o=>s.document.description=o),"show-count":"",maxlength:1e3,disabled:""},null,8,["value"])])]),t("div",Ht,[e[37]||(e[37]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Ngày tạo:")])],-1)),t("div",Ot,[l(b,{value:s.document.created_at,"onUpdate:value":e[7]||(e[7]=o=>s.document.created_at=o),placeholder:"Ngày chờ, tháng nhớ, năm mong",disabled:""},null,8,["value"])])])])]),t("div",zt,[t("div",Jt,[t("div",Qt,[t("div",Wt,[e[39]||(e[39]=t("span",{class:"fs-5 fw-bold"},"Luồng phê duyệt",-1)),e[40]||(e[40]=t("br",null,null,-1)),s.document.status==="approved"?(n(),a("span",Xt,"Đã được duyệt")):s.document.status==="rejected"?(n(),a("span",Zt,"Bị từ chối")):(n(),a("span",te,"Tiến độ: "+p(s.document_flow_steps.progress_percentage)+"%",1))]),s.document_flow_steps&&Object.keys(s.document_flow_steps).length>0?(n(),U(j,{key:0,steps:s.document_flow_steps},null,8,["steps"])):B("",!0)])])])])])])])):(n(),a("div",ee,[t("div",se,[t("div",oe,[t("div",ne,[l(D,{activeKey:s.activeKey,"onUpdate:activeKey":e[8]||(e[8]=o=>s.activeKey=o),type:"card",class:"row border-1 rounded-3 p-4 mb-2 bg-light"},{default:f(()=>[l(i,{key:"1",tab:"Văn bản"},{default:f(()=>[t("div",le,[t("div",de,[t("label",null,[t("a",{href:`${s.apiUrl}/documents/${s.document.file_path}`,target:"_blank",class:"text-decoration-none fst-italic"}," Mở tệp trong tab mới ",8,ae)])])]),t("div",null,[t("div",ie,[t("div",re,[t("div",ce,[e[41]||(e[41]=t("span",{class:"fs-5 fw-bold"},"Tên tài liệu:",-1)),e[42]||(e[42]=u("   ")),t("span",ue,p(s.document.title),1)])])]),t("div",null,[l(C,{"pdf-url":s.pdfUrl},null,8,["pdf-url"])])])]),_:1}),l(i,{key:"2",tab:`Nhận xét (${s.document_comments.total_comments})`,"force-render":""},{default:f(()=>[s.document_comments.total_comments>0?(n(!0),a(x,{key:0},E(s.document_comments.current_comments,(o,w)=>(n(),a("div",{key:w},[t("div",me,[t("div",pe,[o.user.avatar?(n(),U(g,{key:0,class:"",src:s.getAvatarUrl(o.user.avatar)},null,8,["src"])):(n(),U(g,{key:1,class:"",src:s.randomAvatar(o.user.id),alt:"Random Avatar"},null,8,["src"]))]),t("div",ve,[t("div",be,[t("span",fe,p(o.user.name),1)]),t("div",he,[t("span",_e,p(o.content),1)]),t("div",we,[t("span",ge,p(o.commented_at),1)])])])]))),128)):(n(),a("div",ye,e[43]||(e[43]=[t("div",{class:"col d-flex"},[t("span",{class:""},"Chưa có nhận xét nào")],-1)])))]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),t("div",ke,[t("div",Ce,[t("div",je,[e[52]||(e[52]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Phê duyệt văn bản")])],-1)),s.document.step_status==="in_review"?(n(),a("div",Te,[t("div",Ne,[t("button",{class:"border border-2 rounded-2 text-white bg-success w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:e[9]||(e[9]=(...o)=>s.handleClickApprove&&s.handleClickApprove(...o)),disabled:s.btnApproveDisabled},e[44]||(e[44]=[t("span",null,[t("i",{class:"bi bi-check-lg me-1"}),u("Chấp thuận ")],-1)]),8,Ue)]),t("div",De,[t("button",{class:"border border-2 rounded-2 text-white bg-danger w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:e[10]||(e[10]=(...o)=>s.handleClickReject&&s.handleClickReject(...o)),disabled:s.btnRejectDisabled},e[45]||(e[45]=[t("span",null,[t("i",{class:"bi bi-x-lg me-2"}),u("Từ chối ")],-1)]),8,Se)])])):s.document.step_status==="pending"?(n(),a("div",Be,[t("div",Ve,[t("button",{class:"border border-2 rounded-2 text-white bg-warning w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":"1"},onClick:e[11]||(e[11]=(...o)=>s.handleClickNotYourTurn&&s.handleClickNotYourTurn(...o))},e[46]||(e[46]=[t("span",null,[t("i",{class:"bi bi-hourglass-split me-2"}),u("Chưa đến lượt bạn đâu ")],-1)]))])])):s.document.step_status==="approved"?(n(),a("div",Ae,[t("div",Me,[t("button",{class:"border border-2 rounded-2 text-white bg-success w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":"1"},onClick:e[12]||(e[12]=(...o)=>s.handleClickApproved&&s.handleClickApproved(...o))},e[47]||(e[47]=[t("span",null," Bạn đã đồng ý văn bản này rồi! ",-1)]))])])):s.document.step_status==="rejected"?(n(),a("div",Re,[t("div",$e,[t("button",{class:"border border-2 rounded-2 text-white bg-danger w-100 py-2 button-click-effect",style:{"--bs-bg-opacity":"1"},onClick:e[13]||(e[13]=(...o)=>s.handleClickRejected&&s.handleClickRejected(...o))},e[48]||(e[48]=[t("span",null," Bạn đã từ chối văn bản này rồi! ",-1)]))])])):B("",!0),t("div",xe,[t("div",Ie,[t("button",{class:"border border-2 rounded-2 w-100 py-2 bg-secondary text-white button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:e[14]||(e[14]=(...o)=>s.handleClickComment&&s.handleClickComment(...o))},[t("span",null,[e[49]||(e[49]=t("i",{class:"bi bi-chat-square-dots me-2"},null,-1)),u(p(s.btnCommentText),1)])])]),t("div",Ke,[t("button",{class:"border border-2 rounded-2 w-100 py-2 text-white bg-primary button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:e[15]||(e[15]=o=>s.handleClickDownload(s.document.file_path,s.document.title)),disabled:s.isDownloading},[s.isDownloading?(n(),a("span",Ee,e[51]||(e[51]=[t("i",{class:"bi bi-hourglass-split me-2"},null,-1),u("Đang tải... ")]))):(n(),a("span",Pe,e[50]||(e[50]=[t("i",{class:"bi bi-download me-2"},null,-1),u("Tải xuống ")])))],8,Le)])])])]),s.commentSection?(n(),a("div",Fe,[t("div",qe,[e[54]||(e[54]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Nhận xét")])],-1)),t("div",Ye,[t("div",Ge,[l(v,{placeholder:"Nhập nhận xét của bạn",value:s.comment,"onUpdate:value":e[16]||(e[16]=o=>s.comment=o),"show-count":"",maxlength:1e3,ref:"commentTextarea"},null,8,["value"])])]),t("div",He,[t("div",Oe,[t("button",{class:"border border-2 rounded-2 w-100 py-2 bg-secondary text-white button-click-effect",style:{"--bs-bg-opacity":".9"},onClick:e[17]||(e[17]=(...o)=>s.handleSendComment&&s.handleSendComment(...o))},e[53]||(e[53]=[t("span",null,[t("i",{class:"bi bi-chat-square-dots me-2"}),u("Gửi bình luận ")],-1)]))])])])])):B("",!0),t("div",ze,[t("div",Je,[e[62]||(e[62]=t("div",{class:"row mb-3"},[t("div",{class:"col d-flex justify-content-center"},[t("span",{class:"fs-5 fw-bold"},"Thông tin văn bản")])],-1)),t("div",Qe,[e[56]||(e[56]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Người tạo:")])],-1)),t("div",We,[l(b,{value:s.document.creator_name,"onUpdate:value":e[18]||(e[18]=o=>s.document.creator_name=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),e[55]||(e[55]=t("div",{class:"w-100"},null,-1))])]),t("div",Xe,[e[58]||(e[58]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Tên văn bản:")])],-1)),t("div",Ze,[l(b,{value:s.document.title,"onUpdate:value":e[19]||(e[19]=o=>s.document.title=o),placeholder:"Văn bản số 1",disabled:""},null,8,["value"]),e[57]||(e[57]=t("div",{class:"w-100"},null,-1))])]),t("div",ts,[e[59]||(e[59]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Loại văn bản:")])],-1)),t("div",es,[t("div",ss,[l(b,{value:s.document.type,"onUpdate:value":e[20]||(e[20]=o=>s.document.type=o),placeholder:"Love",disabled:""},null,8,["value"])])])]),t("div",os,[e[60]||(e[60]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Mô tả:")])],-1)),t("div",ns,[l(v,{placeholder:"Mô tả đơn giản",value:s.document.description,"onUpdate:value":e[21]||(e[21]=o=>s.document.description=o),"show-count":"",maxlength:1e3,disabled:""},null,8,["value"])])]),t("div",ls,[e[61]||(e[61]=t("div",{class:"col text-start mb-2 mb-xl-0 align-self-center ps-3"},[t("label",null,[t("span",null,"Ngày tạo:")])],-1)),t("div",ds,[l(b,{value:s.document.created_at,"onUpdate:value":e[22]||(e[22]=o=>s.document.created_at=o),placeholder:"Ngày chờ, tháng nhớ, năm mong",disabled:""},null,8,["value"])])])])]),t("div",as,[t("div",is,[t("div",rs,[t("div",cs,[e[63]||(e[63]=t("span",{class:"fs-5 fw-bold"},"Luồng phê duyệt",-1)),e[64]||(e[64]=t("br",null,null,-1)),s.document.document_status==="approved"?(n(),a("span",us,"Đã được duyệt")):s.document.document_status==="rejected"?(n(),a("span",ms,"Bị từ chối")):(n(),a("span",ps,"Tiến độ: "+p(s.document_flow_steps.progress_percentage)+"%",1))]),s.document_flow_steps&&Object.keys(s.document_flow_steps).length>0?(n(),U(j,{key:0,steps:s.document_flow_steps},null,8,["steps"])):B("",!0)])])])])])])]))]),l(R,{visible:s.rejectVisible,"onUpdate:visible":e[25]||(e[25]=o=>s.rejectVisible=o),width:"600px"},{footer:f(()=>[l(T,{onClick:e[24]||(e[24]=o=>s.rejectVisible=!1)},{default:f(()=>e[68]||(e[68]=[u("Hủy")])),_:1}),l(T,{type:"primary",onClick:s.handleRejectDocument},{default:f(()=>e[69]||(e[69]=[u("Từ chối")])),_:1},8,["onClick"])]),default:f(()=>[t("div",null,[e[67]||(e[67]=t("h5",null,"❌ Từ chối văn bản",-1)),l(y),t("div",null,[e[66]||(e[66]=t("span",null,"Lý do chia tay là gì, em có biết không???",-1)),l(v,{value:s.reasonReject,"onUpdate:value":e[23]||(e[23]=o=>s.reasonReject=o),placeholder:"Vì em không yêu anh như anh yêu em, vì em xem anh chỉ là nhất thời.","show-count":"",maxlength:1e3,rows:"4",class:"mb-5"},null,8,["value"])]),l(y)])]),_:1},8,["visible"])],64)}const Ns=z(lt,[["render",vs],["__scopeId","data-v-02543ff9"]]);export{Ns as default};
