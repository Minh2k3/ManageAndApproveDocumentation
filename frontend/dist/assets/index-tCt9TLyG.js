import{_ as H,d as C,c as N,b as s,a as o,w as i,r as a,k as b,E as T,K as M,q as V,e as m,i as O,C as g,z as q,o as z,J as _,B as w}from"./index-Ba8l0gpi.js";import{_ as B}from"./logo_tlu-B7rE08lr.js";import{M as y,_ as G,a as I}from"./logo_hsv-DZE9g0X-.js";import{H as x}from"./HomeOutlined-Cpx2c2rB.js";import"./pdfjs-CqkleIqs.js";const E=C({components:{MailOutlined:y,HomeOutlined:x},setup(){const e=q(),t=V(),d=m(""),u=m(""),h=m(!1),r=m(!1);console.log("user",d.value);const v=()=>{if(d.value===""||u.value===""){g.error("Vui lòng nhập đầy đủ thông tin!"),r.value=!1;return}r.value=!0};O(r,l=>{l&&(console.log("Form đã xác thực ở phía frontend."),p(),r.value=!1)});const p=async()=>{await w.get("/sanctum/csrf-cookie");try{const l=await t.login({email:d.value,password:u.value});l.status==="error"&&g.error(l.message),r.value=!1;const c=await w.get("api/user",{withCredentials:!0});g.success("Đăng nhập thành công!"),console.log("Thông tin người dùng:",c.data);const f=c.data;console.log(f.id),e.push({name:t.role})}catch{}};return{email:d,password:u,rememberMe:h,HomeOutlined:x,MailOutlined:y,login:v}}}),S={class:"container-fluid vh-100 overflow-hidden backGradient",style:{"background-color":"aquamarine"}},U={class:"position-absolute top-0 end-0 m-3"},$={class:"row h-100"},F={class:"d-sm-flex col-sm-6 d-none"},L={class:"col-12"},P={class:"row mt-3"},R={class:"col-12 justify-content-center d-flex mb-1 align-items-center"},Q={class:"col-12 col-sm-6 d-flex rounded-start-5",style:{"background-color":"#f8f9fa"}},Y={class:"row w-100 h-100 justify-content-center align-items-center"},A={class:"col-12"},D={class:"row justify-content-center"},J={class:"col-sm-6"},K={class:"mt-1"},W={class:"row justify-content-center mt-3"},X={class:"col-sm-6"},Z={class:"mt-1"},tt={class:"row justify-content-center mt-2"},st={class:"col-sm-6"},et={class:"d-flex justify-content-between align-items-center mb-3"},ot={class:"row justify-content-center mt-3"},nt={class:"col-12 col-sm-6 justify-content-center"},lt={class:"d-grid gap-2"},it={class:"row mt-4"},at={class:"col-12 justify-content-center d-flex"};function rt(e,t,d,u,h,r){const v=a("HomeOutlined"),p=a("a-button"),l=a("router-link"),c=a("a-avatar"),f=a("a-input"),k=a("a-input-password"),j=a("a-checkbox");return z(),N("div",S,[s("div",U,[o(l,{to:"/",class:"text-decoration-none"},{default:i(()=>[o(p,{type:"primary",class:"d-flex align-items-center"},{default:i(()=>[o(v,{class:"me-1"}),t[5]||(t[5]=_(" Trang chủ "))]),_:1})]),_:1})]),s("div",$,[s("div",F,[s("div",L,[s("div",P,[s("div",R,[o(c,{shape:"square",size:50,style:{"background-color":"transparent"}},{icon:i(()=>t[6]||(t[6]=[s("img",{src:B,alt:"logo_tlu",style:{width:"100%",height:"100%","object-fit":"contain"}},null,-1)])),_:1}),o(c,{shape:"square",size:50,style:{"background-color":"transparent"},class:"mx-3"},{icon:i(()=>t[7]||(t[7]=[s("img",{src:G,alt:"logo_dtn",style:{width:"100%",height:"100%","object-fit":"contain"}},null,-1)])),_:1}),o(c,{shape:"square",size:45,style:{"background-color":"transparent"}},{icon:i(()=>t[8]||(t[8]=[s("img",{src:I,alt:"logo_hsv",style:{width:"100%",height:"100%","object-fit":"contain"}},null,-1)])),_:1})])]),t[9]||(t[9]=b('<div class="row"><div class="col-12 justify-content-center"><h3 class="text-center mb-0 p-1">TRƯỜNG ĐẠI HỌC THỦY LỢI</h3></div></div><div class="row"><div class="col-12 justify-content-center d-flex mb-3"><h4 class="text-center col-12">Đoàn Thanh niên - Hội Sinh viên</h4></div></div><div class="row h-100"><div class="d-flex align-items-center"><h1 class="fs-1">Hệ Thống Quản Lý và Phê Duyệt Văn Bản Điện Tử</h1></div></div>',3))])]),s("div",Q,[s("div",Y,[s("div",A,[t[19]||(t[19]=b('<div class="row"><div class="justify-content-center"><h1 class="text-center fw-bold mb-0">ĐĂNG NHẬP</h1></div></div><div class="row"><div class="col-12 justify-content-center"><h4 class="text-center text-secondary fst-italic">Nhập thông tin để truy cập hệ thống </h4></div></div><div class="row justify-content-center mt-3"><div class="col-8 col-sm-6 justify-content-center"><div class="d-grid gap-2"><button class="btn btn-primary" type="button"><span class="text-center"><i class="bi bi-envelope me-2"></i>Đăng nhập với Outlock</span></button></div></div></div><div class="row justify-content-center mt-2"><div class="col-12 col-sm-6 d-flex align-items-center my-3"><div class="flex-grow-1 border-bottom"></div><div class="px-2 text-muted fw-semibold small">HOẶC ĐĂNG NHẬP VỚI</div><div class="flex-grow-1 border-bottom"></div></div></div>',4)),s("form",{onSubmit:t[4]||(t[4]=T((...n)=>e.login&&e.login(...n),["prevent"]))},[s("div",D,[s("div",J,[t[11]||(t[11]=s("div",{class:"text-start align-self-center"},[s("label",null,[s("span",null,"Email")])],-1)),t[12]||(t[12]=s("div",{class:"w-100"},null,-1)),s("div",K,[o(f,{value:e.email,"onUpdate:value":t[0]||(t[0]=n=>e.email=n),placeholder:"2151062831@e.tlu.edu.vn","allow-clear":"",class:M({"input-danger":e.firstFieldError==="email"})},null,8,["value","class"]),t[10]||(t[10]=s("div",{class:"w-100"},null,-1))])])]),s("div",W,[s("div",X,[t[14]||(t[14]=s("div",{class:"text-start align-self-center"},[s("label",null,[s("span",null,"Mật khẩu")])],-1)),s("div",Z,[o(k,{value:e.password,"onUpdate:value":t[1]||(t[1]=n=>e.password=n),placeholder:"abcILoveYou123","allow-clear":""},null,8,["value"]),t[13]||(t[13]=s("div",{class:"w-100"},null,-1))])])]),s("div",tt,[s("div",st,[s("div",et,[s("div",null,[o(j,{checked:e.rememberMe,"onUpdate:checked":t[2]||(t[2]=n=>e.rememberMe=n)},{default:i(()=>t[15]||(t[15]=[_("Ghi nhớ đăng nhập")])),_:1},8,["checked"])]),t[16]||(t[16]=s("div",null,[s("a",{href:"#",class:"text-decoration-none text-primary small fst-italic"},"Quên mật khẩu?")],-1))])])]),s("div",ot,[s("div",nt,[s("div",lt,[s("button",{class:"btn btn-primary p-2 my-button",type:"button",style:{"background-color":"#0d6efd","border-color":"#0d6efd",color:"#ffffff"},onClick:t[3]||(t[3]=(...n)=>e.login&&e.login(...n))}," Đăng nhập ")])])])],32),s("div",it,[s("div",at,[t[18]||(t[18]=s("span",{class:"text-center text-secondary mx-2"},"Chưa có tài khoản?",-1)),o(l,{to:{name:"register"},class:"text-decoration-none"},{default:i(()=>t[17]||(t[17]=[s("span",{class:"text-center text-primary fst-italic"},"Đăng ký",-1)])),_:1})])])])])])])])}const pt=H(E,[["render",rt]]);export{pt as default};
