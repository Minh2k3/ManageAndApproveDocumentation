import{N as S,e as o,B as s}from"./index-Ba8l0gpi.js";const x=S("document",()=>{const c=o([]),r=o(!1),l=o([]),u=o(!1),f=o([]),i=o(!1),m=o([]),d=o(!1),p=o([]),v=o(!1),h=o([]),n=o(!1);async function w(a=!1){if(!(r.value&&!a))try{const e=await s.get("/api/document-types");e.data&&(console.log("response document types: ",e.data),c.value=e.data.document_types)}catch(e){console.error("Error fetching document types:",e)}}async function _(a=!1){if(!(u.value&&!a))try{const e=await s.get("api/document-flows");e.data&&(console.log("response.data",e.data),l.value=e.data.document_flow_templates)}catch(e){console.error("Error fetching document flow templates:",e)}}async function g(a=!1){if(!(i.value&&!a))try{const e=await s.get("api/document-templates");e.data&&(console.log("response.data",e.data),f.value=e.data.document_templates)}catch(e){console.error("Error fetching document templates:",e)}}async function D(a,e=!1){if(!(d.value&&!e))try{const t=await s.get(`api/template-user/${a}/`);m.value=t.data,t.data?this.template_user=t.data:this.template_user=null}catch(t){console.error("Error fetching template user:",t)}}async function F(a){try{const e=await s.get(`api/document-flow-steps/${a}/`);e.data&&(console.log("Document_flow_step: "+JSON.stringify(e.data,null,2)),p.value=e.data.map(t=>({document_flow_id:t.document_flow_id,step:t.step,multichoice:t.multichoice,department_id:t.department_id,approver_id:t.approver_id})))}catch(e){console.error("Error fetching document flow steps:",e)}}async function y(a,e=!1){if(!(n.value&&!e))try{const t=await s.get(`api/approvers/${a}/documents`);t.data&&(n.value=!0,console.log("response.data",t.data),h.value=t.data.documents)}catch(t){console.error("Error fetching documents:",t)}}function T(){c.value=[],r.value=!1,l.value=[],u.value=!1,f.value=[],i.value=!1,m.value=[],d.value=!1,p.value=[],v.value=!1,h.value=[],n.value=!1}async function E(a){await w(),await _(),await y(a)}return{document_types:c,isFetchedDocumentTypes:r,document_flow_templates:l,isFetchedDocumentFlowTemplates:u,document_templates:f,isFetchedDocumentTemplates:i,template_user:m,isFetchedTemplateUser:d,document_flow_steps:p,isFetchedDocumentFlowSteps:v,documents:h,isFetchedDocuments:n,fetchDocumentTypes:w,fetchDocumentFlowTemplates:_,fetchDocumentTemplates:g,fetchTemplateUser:D,fetchDocumentFlowSteps:F,fetchDocuments:y,fetchAll:E,reset:T}});export{x as u};
