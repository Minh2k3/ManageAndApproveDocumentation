import{b as n,O as D,_ as se,e as pe,W as L,a3 as ge,z as ae,g as x,C,U as be,a4 as ve,c as k,x as B,I as j,d as o,r as v,F as z,M as le,H as M,o as y,a as t,N as i,i as ye,q as b,u as W,a5 as K,J as Y,D as _e}from"./index-BOdPGqQO.js";import{u as V}from"./use-menu-D-IdInQM.js";import{U as he}from"./UserOutlined-BH2wYHZT.js";import{H as we}from"./HomeOutlined-DS-QK8nz.js";import{u as ke}from"./use-notification-48tEKM6-.js";var Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"branches",theme:"outlined"};function Z(s){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),r.forEach(function(u){xe(s,u,l[u])})}return s}function xe(s,e,l){return e in s?Object.defineProperty(s,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[e]=l,s}var H=function(e,l){var r=Z({},e,l.attrs);return n(D,Z({},r,{icon:Oe}),null)};H.displayName="BranchesOutlined";H.inheritAttrs=!1;var Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"};function ee(s){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),r.forEach(function(u){Ne(s,u,l[u])})}return s}function Ne(s,e,l){return e in s?Object.defineProperty(s,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[e]=l,s}var U=function(e,l){var r=ee({},e,l.attrs);return n(D,ee({},r,{icon:Ce}),null)};U.displayName="InteractionOutlined";U.inheritAttrs=!1;var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112c-3.8 0-7.7.7-11.6 2.3L292 345.9H128c-8.8 0-16 7.4-16 16.6v299c0 9.2 7.2 16.6 16 16.6h101.7c-3.7 11.6-5.7 23.9-5.7 36.4 0 65.9 53.8 119.5 120 119.5 55.4 0 102.1-37.6 115.9-88.4l408.6 164.2c3.9 1.5 7.8 2.3 11.6 2.3 16.9 0 32-14.2 32-33.2V145.2C912 126.2 897 112 880 112zM344 762.3c-26.5 0-48-21.4-48-47.8 0-11.2 3.9-21.9 11-30.4l84.9 34.1c-2 24.6-22.7 44.1-47.9 44.1zm496 58.4L318.8 611.3l-12.9-5.2H184V417.9h121.9l12.9-5.2L840 203.3v617.4z"}}]},name:"notification",theme:"outlined"};function te(s){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),r.forEach(function(u){Pe(s,u,l[u])})}return s}function Pe(s,e,l){return e in s?Object.defineProperty(s,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[e]=l,s}var E=function(e,l){var r=te({},e,l.attrs);return n(D,te({},r,{icon:Te}),null)};E.displayName="NotificationOutlined";E.inheritAttrs=!1;var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};function ne(s){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),r.forEach(function(u){Se(s,u,l[u])})}return s}function Se(s,e,l){return e in s?Object.defineProperty(s,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[e]=l,s}var F=function(e,l){var r=ne({},e,l.attrs);return n(D,ne({},r,{icon:$e}),null)};F.displayName="SettingOutlined";F.inheritAttrs=!1;var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};function oe(s){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),r.forEach(function(u){Ve(s,u,l[u])})}return s}function Ve(s,e,l){return e in s?Object.defineProperty(s,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[e]=l,s}var I=function(e,l){var r=oe({},e,l.attrs);return n(D,oe({},r,{icon:Ke}),null)};I.displayName="TagOutlined";I.inheritAttrs=!1;const De="/assets/logo_tlu-C0DTaymz.svg",Ae=pe({components:{HomeOutlined:we,UserOutlined:he,TagOutlined:I,SettingOutlined:F,FileOutlined:ge,InteractionOutlined:U,BranchesOutlined:H,ExclamationCircleOutlined:L,NotificationOutlined:E},setup(){const s=V(),e=ae(),l=x(e.role),r=be(),u=C(()=>r.name==="admin-signatures-detail"),N=C(()=>r.name==="admin-documents-detail"),g=C(()=>r.name==="admin-approval-flows-detail"),c=C(()=>r.name==="creator-documents-detail"),d=C(()=>r.name==="creator-documents-edit"),O=C(()=>r.name==="approver-documents-detail"),T=C(()=>r.name==="approver-documents-edit");function _({key:p}){console.log("Đã bấm"+p),e.role=p}function f(){le.confirm({title:"Bạn có chắc chắn đăng xuất không?",icon:n(L),content:n("div",{style:"color:red;"}),async onOk(){await e.logout(),M.success("Đăng xuất thành công")},onCancel(){}})}function S(){f()}return{...ve(s),role:l,isDetailSignatureAdmin:u,isDetailDocumentAdmin:N,isDetailPageFlowTemplate:g,isDetailPageCreator:c,isEditPageCreator:d,isDetailPageApprover:O,isEditPageApprover:T,onMenuClick:_,handleLogout:S}}}),je={class:"d-inline-flex align-items-center"},ze={class:"d-inline-flex align-items-center"},Me={class:"d-inline-flex align-items-center"},Be={class:"d-inline-flex align-items-center"};const Le={class:"d-inline-flex align-items-center"},He={class:"d-inline-flex align-items-center"},Ue={class:"d-inline-flex align-items-center"},Ee={class:"d-inline-flex align-items-center"},Fe={class:"d-inline-flex align-items-center"},Ie={class:"d-inline-flex align-items-center"},Qe={class:"d-inline-flex align-items-center"},Re={class:"d-inline-flex align-items-center"},Je={class:"d-inline-flex align-items-center"},qe={class:"d-inline-flex align-items-center"},Ge={class:"d-inline-flex align-items-center"};function Xe(s,e,l,r,u,N){const g=v("HomeOutlined"),c=v("router-link"),d=v("a-menu-item"),O=v("NotificationOutlined"),T=v("UserOutlined"),_=v("a-sub-menu"),f=v("FileOutlined"),S=v("TagOutlined"),p=v("BranchesOutlined"),$=v("SettingOutlined"),P=v("a-menu");return y(),k(z,null,[s.role==="admin"?(y(),B(P,{key:0,openKeys:s.openKeys,"onUpdate:openKeys":e[0]||(e[0]=m=>s.openKeys=m),selectedKeys:s.selectedKeys,"onUpdate:selectedKeys":e[1]||(e[1]=m=>s.selectedKeys=m),mode:"inline"},{default:o(()=>[n(d,{"menu-item":"",key:"admin-dashboard"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-dashboard"},title:"Quản lý chung"},{default:o(()=>[t("span",je,[n(g,{class:"me-2"}),e[7]||(e[7]=i("Quản lý chung "))])]),_:1})]),_:1}),n(d,{"menu-item":"",key:"admin-notification"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-notification"},title:"Thông báo"},{default:o(()=>[t("span",ze,[n(O,{class:"me-2"}),e[8]||(e[8]=i("Thông báo "))])]),_:1})]),_:1}),n(_,{key:"admin-users"},{title:o(()=>[t("span",Me,[n(T,{class:"me-2"}),e[9]||(e[9]=i(" Quản lý người dùng "))])]),default:o(()=>[n(d,{key:"admin-users-list"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-users"}},{default:o(()=>e[10]||(e[10]=[i("Danh sách người dùng")])),_:1})]),_:1}),n(d,{key:"admin-users-create"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-users-create"}},{default:o(()=>e[11]||(e[11]=[i("Thêm người dùng")])),_:1})]),_:1}),n(d,{key:"admin-users-departments-and-rolls"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-users-departments-and-rolls"}},{default:o(()=>e[12]||(e[12]=[i("Phòng ban và vai trò")])),_:1})]),_:1})]),_:1}),n(_,{key:"admin-documents"},{title:o(()=>[t("span",Be,[n(f,{class:"me-2"}),e[13]||(e[13]=i(" Quản lý văn bản "))])]),default:o(()=>[n(d,{key:"admin-documents-all"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-documents"}},{default:o(()=>e[14]||(e[14]=[i("Tất cả văn bản")])),_:1})]),_:1}),n(d,{key:"admin-documents-detail",disabled:!s.isDetailDocumentAdmin,selectable:s.isDetailDocumentAdmin},{default:o(()=>e[15]||(e[15]=[i(" Chi tiết văn bản ")])),_:1},8,["disabled","selectable"]),n(d,{key:"admin-documents-type"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-documents-type"}},{default:o(()=>e[16]||(e[16]=[i("Loại văn bản")])),_:1})]),_:1}),n(d,{key:"admin-documents-template"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-documents-template"}},{default:o(()=>e[17]||(e[17]=[i("Văn bản mẫu")])),_:1})]),_:1})]),_:1}),j("",!0),n(_,{key:"admin-signatures"},{title:o(()=>[t("span",Le,[n(S,{class:"me-2"}),e[22]||(e[22]=i(" Quản lý chữ ký số "))])]),default:o(()=>[n(d,{key:"admin-signatures"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-signatures"}},{default:o(()=>e[23]||(e[23]=[i("Chữ ký số")])),_:1})]),_:1}),n(d,{key:"admin-signatures-detail",disabled:!s.isDetailSignatureAdmin,selectable:s.isDetailSignatureAdmin},{default:o(()=>e[24]||(e[24]=[i(" Chi tiết chứng thực ")])),_:1},8,["disabled","selectable"])]),_:1}),n(_,{key:"admin-approval-flows"},{title:o(()=>[t("span",He,[n(p,{class:"me-2"}),e[25]||(e[25]=i(" Luồng phê duyệt "))])]),default:o(()=>[n(d,{key:"admin-approval-flows"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-approval-flows"}},{default:o(()=>e[26]||(e[26]=[i("Mẫu luồng phê duyệt")])),_:1})]),_:1}),n(d,{key:"admin-approval-flows-detail",disabled:!s.isDetailPageFlowTemplate,selectable:s.isDetailPageFlowTemplate},{default:o(()=>e[27]||(e[27]=[i(" Chi tiết luồng ")])),_:1},8,["disabled","selectable"]),n(d,{key:"approval-flows-create"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-approval-flows-create"}},{default:o(()=>e[28]||(e[28]=[i("Tạo luồng mới")])),_:1})]),_:1})]),_:1}),n(d,{key:"admin-settings"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"admin-settings"},title:"Cài đặt"},{default:o(()=>[t("span",Ue,[n($,{class:"me-2"}),e[29]||(e[29]=i("Cài đặt "))])]),_:1})]),_:1})]),_:1},8,["openKeys","selectedKeys"])):j("",!0),s.role==="creator"?(y(),B(P,{key:1,openKeys:s.openKeys,"onUpdate:openKeys":e[2]||(e[2]=m=>s.openKeys=m),selectedKeys:s.selectedKeys,"onUpdate:selectedKeys":e[3]||(e[3]=m=>s.selectedKeys=m),mode:"inline"},{default:o(()=>[n(d,{"menu-item":"",key:"creator-dashboard"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-dashboard"},title:"Tin tức"},{default:o(()=>[t("span",Ee,[n(g,{class:"me-2"}),e[30]||(e[30]=i("Tin tức "))])]),_:1})]),_:1}),n(d,{"menu-item":"",key:"creator-notification"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-notification"},title:"Thông báo"},{default:o(()=>[t("span",Fe,[n(O,{class:"me-2"}),e[31]||(e[31]=i("Thông báo "))])]),_:1})]),_:1}),n(_,{key:"creator-documents"},{title:o(()=>[t("span",Ie,[n(f,{class:"me-2"}),e[32]||(e[32]=i(" Văn bản của tôi nè "))])]),default:o(()=>[n(d,{key:"creator-documents-all"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-documents"}},{default:o(()=>e[33]||(e[33]=[i("Tất cả văn bản")])),_:1})]),_:1}),n(d,{key:"creator-documents-create"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-documents-create"}},{default:o(()=>e[34]||(e[34]=[i("Thêm văn bản")])),_:1})]),_:1}),n(d,{key:"creator-documents-detail",disabled:!s.isDetailPageCreator,selectable:s.isDetailPageCreator},{default:o(()=>e[35]||(e[35]=[i(" Chi tiết văn bản ")])),_:1},8,["disabled","selectable"]),n(d,{key:"creator-documents-template"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-documents-template"}},{default:o(()=>e[36]||(e[36]=[t("span",null,[t("i",{class:"fa-solid fa-file me-2"}),i("Văn bản mẫu ")],-1)])),_:1})]),_:1})]),_:1}),n(d,{key:"creator-signatures"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-signatures"}},{default:o(()=>e[37]||(e[37]=[t("span",null,[t("i",{class:"fa-solid fa-signature me-2"}),i("Chữ ký của tớ ")],-1)])),_:1})]),_:1}),n(d,{key:"creator-settings"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"creator-settings"},title:"Cài đặt"},{default:o(()=>[t("span",Qe,[n($,{class:"me-2"}),e[38]||(e[38]=i("Cài đặt "))])]),_:1})]),_:1})]),_:1},8,["openKeys","selectedKeys"])):j("",!0),s.role==="approver"?(y(),B(P,{key:2,openKeys:s.openKeys,"onUpdate:openKeys":e[4]||(e[4]=m=>s.openKeys=m),selectedKeys:s.selectedKeys,"onUpdate:selectedKeys":e[5]||(e[5]=m=>s.selectedKeys=m),mode:"inline"},{default:o(()=>[n(d,{"menu-item":"",key:"approver-dashboard"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-dashboard"},title:"Tin tức"},{default:o(()=>[t("span",Re,[n(g,{class:"me-2"}),e[39]||(e[39]=i("Tin tức "))])]),_:1})]),_:1}),n(d,{"menu-item":"",key:"approver-notification"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-notification"},title:"Thông báo"},{default:o(()=>[t("span",Je,[n(O,{class:"me-2"}),e[40]||(e[40]=i("Thông báo "))])]),_:1})]),_:1}),n(_,{key:"approver-documents"},{title:o(()=>[t("span",qe,[n(f,{class:"me-2"}),e[41]||(e[41]=i(" Văn bản "))])]),default:o(()=>[n(d,{key:"approver-documents-all"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-documents"}},{default:o(()=>e[42]||(e[42]=[i("Tất cả văn bản")])),_:1})]),_:1}),n(d,{key:"approver-documents-create"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-documents-create"}},{default:o(()=>e[43]||(e[43]=[i("Thêm văn bản")])),_:1})]),_:1}),n(d,{key:"approver-documents-detail",disabled:!s.isDetailPageApprover,selectable:s.isDetailPageApprover},{default:o(()=>e[44]||(e[44]=[i(" Chi tiết văn bản ")])),_:1},8,["disabled","selectable"]),n(d,{key:"approver-documents-template"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-documents-template"}},{default:o(()=>e[45]||(e[45]=[t("span",null,[t("i",{class:"fa-solid fa-file me-2"}),i("Văn bản mẫu ")],-1)])),_:1})]),_:1})]),_:1}),n(d,{key:"approver-signatures"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-signatures"}},{default:o(()=>e[46]||(e[46]=[t("span",null,[t("i",{class:"fa-solid fa-signature me-2"}),i("Chữ ký của tớ ")],-1)])),_:1})]),_:1}),n(d,{key:"approver-settings"},{default:o(()=>[n(c,{class:"text-decoration-none",to:{name:"approver-settings"},title:"Cài đặt"},{default:o(()=>[t("span",Ge,[n($,{class:"me-2"}),e[47]||(e[47]=i("Cài đặt "))])]),_:1})]),_:1})]),_:1},8,["openKeys","selectedKeys"])):j("",!0),n(P,{selectedKeys:s.selectedKeys,"onUpdate:selectedKeys":e[6]||(e[6]=m=>s.selectedKeys=m),mode:"inline"},{default:o(()=>[n(d,{key:"logout",onClick:s.handleLogout},{default:o(()=>e[48]||(e[48]=[t("span",{class:"d-inline-flex align-items-center"},[t("i",{class:"fa-solid fa-right-from-bracket me-2"}),i("Đăng xuất ")],-1)])),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])],64)}const We=se(Ae,[["render",Xe]]),Ye={class:"container-fluid"},Ze={class:"row",style:{"background-color":"#007cba",padding:"1rem"}},et={class:"col-1 d-flex d-lg-none align-items-center justify-content-center"},tt={class:"col-lg-6 d-none d-lg-flex align-items-center justify-content-lg-end"},nt={class:"dropdown me-4"},ot={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger px-1"},st={class:"dropdown-menu notification-dropdown"},at={class:"dropdown-header"},lt={class:"d-flex justify-content-between align-items-center gap-2"},it={key:0,class:"text-center p-3"},rt={key:1,class:"text-center text-muted p-3"},dt=["onClick"],ct={class:"notification-body"},ut={class:"notification-content"},mt={class:"notification-time"},ft={class:"btn-group"},pt={type:"button",class:"btn btn-info dropdown-toggle text-capitalize","data-bs-toggle":"dropdown","aria-expanded":"false"},gt={class:"dropdown-menu dropdown-menu-end",style:{"min-width":"200px",width:"max-content","max-width":"350px"}},bt={class:"dropdown-header row d-flex align-items-center"},vt={class:"col-9"},yt={class:"row fs-6"},_t={class:"row text-capitalize"},ht={class:"col-3 d-flex d-lg-none align-items-center justify-content-center"},wt={class:"dropdown me-4"},kt={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger px-1"},Ot={class:"dropdown-menu notification-dropdown"},xt={class:"dropdown-header"},Ct={class:"d-flex justify-content-between align-items-center gap-2"},Nt={key:0,class:"text-center p-3"},Tt={key:1,class:"text-center text-muted p-3"},Pt=["onClick"],$t={class:"notification-body"},St={class:"notification-content"},Kt={class:"notification-time"},Vt={class:"btn-group"},Dt={class:"dropdown-menu dropdown-menu-end"},At={class:"dropdown-header row d-flex align-items-center"},jt={class:"col-9"},zt={class:"row fs-6"},Mt={class:"row text-capitalize"},Bt={__name:"TheHeader",setup(s){const e=_e(),l=C(()=>V().selectedKeys),r=ae(),u=ke(),N=r.user,g=r.role,c=N.name,d=x(!1),O=x(!1),T=x("left"),_=x(!1),f=x([]);function S(){new Audio("/sounds/meow.mp3").play()}const p=x(3),$=x(!1),P=()=>{$.value=!$.value};function m(){if(JSON.stringify(l)===JSON.stringify([g+"-notification"])){console.log("Already on notification page");return}console.log("Navigating to notification page for role:",g+"-notification"),e.push({name:g+"-notification"})}async function Q(h){p.value--,f.value=f.value.filter(a=>a.id!==h),m()}async function ie(h=!1){await u.fetchNotifications(N.id,h),f.value=u.notifications.filter(a=>a.is_read===!1),p.value=f.value.length}ye(async()=>{await ie(),re()});const re=()=>{window.Echo.channel("user."+N.id).listen(".new-notification",h=>{console.log(h);const a={id:h.notification.id,content:h.notification.content};f.value.splice(0,0,a),p.value++,S()})},R=async()=>{try{await u.markAsAllRead(N.id),f.value=[],p.value=0,M.success("Đã đánh dấu tất cả thông báo là đã đọc")}catch(h){console.error("Error marking notifications as read:",h),M.error("Đánh dấu tất cả thông báo là đã đọc thất bại")}},J=()=>{m()},de=()=>{d.value=!0,T.value="left"},q=()=>{d.value=!1,O.value=!1};function ce(){le.confirm({title:"Bạn có chắc chắn đăng xuất không?",icon:n(L),content:n("div",{style:"color:red;"}),onOk(){r.logout(),M.success("Đăng xuất thành công")},onCancel(){}})}function G(){ce()}function ue(){if(console.log("Cài đặt cá nhân clicked"),V().selectedKeys===[g+"-settings"]){console.log("Already on settings page");return}V().onSelectedKeys([g+"-settings"]),console.log("On selected keys:",V().selectedKeys),e.push({name:g+"-settings"})}function me(){console.log("Thông báo clicked"),m()}return(h,a)=>{const A=v("a-button"),X=v("a-drawer");return y(),k(z,null,[t("div",Ye,[t("div",Ze,[t("div",et,[t("span",{onClick:a[0]||(a[0]=w=>de())},a[1]||(a[1]=[t("i",{class:"fa-solid fa-indent fs-1"},null,-1)]))]),a[23]||(a[23]=t("div",{class:"col-8 col-lg-6 d-flex align-items-center justify-content-center justify-content-lg-start"},[t("img",{src:De,alt:"logo",height:"32",width:"34"}),t("span",{class:"d-none d-lg-flex text-white ms-3 me-3 fs-4"},"QUẢN TRỊ HỆ THỐNG")],-1)),t("div",tt,[t("div",nt,[t("button",{id:"btn-notification",class:"btn btn-secondary border",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:P,style:{"background-color":"#007cba"}},[a[3]||(a[3]=t("i",{class:"fa-solid fa-bell"},null,-1)),t("span",ot,[i(b(p.value>9?9:p.value)+b(p.value>9?"+":"")+" ",1),a[2]||(a[2]=t("span",{class:"visually-hidden"},"unread messages",-1))])]),t("ul",st,[t("li",at,[t("div",lt,[n(A,{class:"col",onClick:R},{default:o(()=>a[4]||(a[4]=[i("Đánh dấu tất cả đã đọc")])),_:1}),n(A,{class:"col",onClick:J},{default:o(()=>a[5]||(a[5]=[i("Xem tất cả")])),_:1})])]),_.value?(y(),k("li",it,a[6]||(a[6]=[t("div",{class:"spinner-border spinner-border-sm",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):f.value.length===0?(y(),k("li",rt," Không có thông báo chưa đọc nào ")):(y(!0),k(z,{key:2},W(f.value,w=>(y(),k("li",{key:w.id},[t("a",{href:"#",onClick:fe=>Q(w.id),class:"dropdown-item notification-item d-flex text-decoration-none"},[a[7]||(a[7]=t("div",{class:"notification-icon"},[t("i",{class:"fa-solid fa-bell"})],-1)),t("div",ct,[t("div",ut,b(w.content),1),t("small",mt,b(w.created_at),1)])],8,dt)]))),128))])]),t("div",ft,[t("button",pt,b(K(c)),1),t("ul",gt,[t("li",null,[t("h6",bt,[a[8]||(a[8]=t("div",{class:"col-3"},[t("i",{class:"fa-solid fa-user me-2"})],-1)),t("div",vt,[t("div",yt,b(K(c)),1),t("div",_t,b(K(g)),1)])])]),t("li",null,[t("a",{class:"dropdown-item",href:"",onClick:me},"Thông báo")]),t("li",null,[t("a",{class:"dropdown-item",href:"",onClick:ue},"Cài đặt cá nhân")]),a[10]||(a[10]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("a",{class:"dropdown-item",href:"",onClick:Y(G,["prevent"])},a[9]||(a[9]=[t("i",{class:"fa-solid fa-right-from-bracket me-2"},null,-1),i("Đăng xuất")]))])])])]),t("div",ht,[t("div",wt,[t("button",{class:"btn btn-secondary border",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:P,style:{"background-color":"#007cba"}},[a[12]||(a[12]=t("i",{class:"fa-solid fa-bell"},null,-1)),t("span",kt,[i(b(p.value>9?9:p.value)+b(p.value>9?"+":"")+" ",1),a[11]||(a[11]=t("span",{class:"visually-hidden"},"unread messages",-1))])]),t("ul",Ot,[t("li",xt,[t("div",Ct,[n(A,{class:"col",onClick:R},{default:o(()=>a[13]||(a[13]=[i("Đánh dấu tất cả đã đọc")])),_:1}),n(A,{class:"col",onClick:J},{default:o(()=>a[14]||(a[14]=[i("Xem tất cả")])),_:1})])]),_.value?(y(),k("li",Nt,a[15]||(a[15]=[t("div",{class:"spinner-border spinner-border-sm",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):f.value.length===0?(y(),k("li",Tt," Không có thông báo chưa đọc nào ")):(y(!0),k(z,{key:2},W(f.value,w=>(y(),k("li",{key:w.id},[t("a",{href:"#",onClick:fe=>Q(w.id),class:"dropdown-item notification-item d-flex text-decoration-none"},[a[16]||(a[16]=t("div",{class:"notification-icon"},[t("i",{class:"fa-solid fa-bell"})],-1)),t("div",$t,[t("div",St,b(w.content),1),t("small",Kt,b(w.created_at),1)])],8,Pt)]))),128))])]),t("div",Vt,[a[22]||(a[22]=t("button",{type:"button",class:"btn btn-info dropdown-toggle text-capitalize","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-user"})],-1)),t("ul",Dt,[t("li",null,[t("h6",At,[a[17]||(a[17]=t("div",{class:"col-3"},[t("i",{class:"fa-solid fa-user me-2"})],-1)),t("div",jt,[t("div",zt,b(K(c)),1),t("div",Mt,b(K(g)),1)])])]),a[19]||(a[19]=t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Thông báo")],-1)),a[20]||(a[20]=t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Cài đặt cá nhân")],-1)),a[21]||(a[21]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:Y(G,["prevent"])},a[18]||(a[18]=[t("i",{class:"fa-solid fa-right-from-bracket me-2"},null,-1),i("Đăng xuất")]))])])])])])]),n(X,{title:"DANH MỤC",placement:T.value,visible:d.value,onClose:q},{default:o(()=>[n(We)]),_:1},8,["placement","visible"]),n(X,{title:"ADMIN",placement:T.value,visible:O.value,onClose:q},{default:o(()=>a[24]||(a[24]=[t("p",null,"Some contents...",-1),t("p",null,"Some contents...",-1),t("p",null,"Some contents...",-1)])),_:1},8,["placement","visible"])],64)}}},It=se(Bt,[["__scopeId","data-v-91294020"]]);export{We as T,It as a};
